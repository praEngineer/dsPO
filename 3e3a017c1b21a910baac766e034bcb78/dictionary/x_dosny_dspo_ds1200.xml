<?xml version="1.0" encoding="UTF-8"?><database>
    <element db_object_id="76ad4d701b61a910baac766e034bcbe0" extends="sn_shop_order" label="DS1200" max_length="40" name="x_dosny_dspo_ds1200" type="collection">
        <element calculation="(function calculatedFieldValue(current) {&#13;&#10;&#9;&#9;&#9;try {&#13;&#10;// &#9;&#9;&#9;&#9;var dtePreamble = format(current.created, 'YYYY-MM-DDTHH:mm:ss');&#13;&#10;// &#9;&#9;&#9;&#9;var dte = new Date(dtePreamble).toDate();&#13;&#10;&#9;&#9;&#9;&#9;//return current.created; &#13;&#10;&#13;&#10;&#9;&#9;&#9;&#9;var result = &quot;unkn&quot;;&#13;&#10;// &#9;&#9;&#9;&#9;var month = '0';&#13;&#10;// &#9;&#9;&#9;&#9;if (Object.prototype.toString.call(dte) === '[object Date]' ){&#13;&#10;// &#9;&#9;&#9;&#9;&#9;// month = (date.getMonth() + 1).toString(); // Get month (0-11), add 1 to get month number (1-12);&#13;&#10;// &#9;&#9;&#9;&#9;&#9;month = current.created.toString() + ' became ' + dte.toString();&#13;&#10;// &#9;&#9;&#9;&#9;}&#13;&#10;// &#9;&#9;&#9;&#9;else&#13;&#10;// &#9;&#9;&#9;&#9;{&#13;&#10;// &#9;&#9;&#9;&#9;&#9;month = 'dte is not a date object.';&#13;&#10;// &#9;&#9;&#9;&#9;}&#13;&#10;// &#9;&#9;&#9;&#9;return month;&#13;&#10;&#9;&#9;&#9;&#9;var month = parseInt(current.created.substring(0,7).substring(5));&#13;&#10;&#9;&#9;&#9;&#9;var year = parseInt(current.created.substring(0,4)); // Get year (e.g., 2022)&#13;&#10;&#9;&#9;&#9;&#9;if (month &gt;= 7) { // July or later&#13;&#10;&#9;&#9;&#9;&#9;&#9;result = (year + 1).toString() + &quot;-&quot; + (year + 2).toString().substr(-2); // Next calendar year&#13;&#10;&#9;&#9;&#9;&#9;} else { // January to June&#13;&#10;&#9;&#9;&#9;&#9;&#9;result = year.toString() + &quot;-&quot; + (year + 1).toString().substr(-2) ; // Current year&#13;&#10;&#9;&#9;&#9;&#9;}&#13;&#10;&#9;&#9;&#9;&#9;return result;&#13;&#10;&#9;&#9;&#9;}&#13;&#10;&#9;&#9;&#9;catch (e){&#13;&#10;&#9;&#9;&#9;&#9;//alert(&quot;A getFiscalYear error occurred: &quot; + e.message);&#13;&#10;&#9;&#9;&#9;&#9;return 'something is wrong: ' +  e.message;&#13;&#10;&#9;&#9;&#9;}&#13;&#10;&#13;&#10;})(current);" display="true" label="Fiscal Year or Period" max_length="40" name="fiscal_year_or_period" type="string" virtual="true"/>
    </element>
</database>
